{"version":3,"file":"checkbox.js","sources":["../../src/zoo-modules/form-modules/common/FormElement.js","../../src/zoo-modules/form-modules/checkbox-module/checkbox.js"],"sourcesContent":["export default class FormElement extends HTMLElement {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tregisterElementForValidation(element) {\n\t\telement.addEventListener('invalid', () => {\n\t\t\tthis.setAttribute('invalid', '');\n\t\t\tthis.setAttribute('aria-invalid', '');\n\t\t});\n\t\telement.addEventListener('change', () => {\n\t\t\tif (element.checkValidity()) {\n\t\t\t\tthis.removeAttribute('invalid');\n\t\t\t} else {\n\t\t\t\tthis.setAttribute('invalid', '');\n\t\t\t\tthis.setAttribute('aria-invalid', '');\n\t\t\t}\n\t\t});\n\t}\n}","import FormElement from '../common/FormElement.js';\n\n/**\n * @injectHTML\n */\nexport class Checkbox extends FormElement {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\t// TODO think of a better way to handle disabled attribute change\n\t// TODO move checkbox inside label so handle multiple checkboxes\n\tmutationCallback(mutationsList) {\n\t\tfor (let mutation of mutationsList) {\n\t\t\tif (mutation.type === 'attributes') {\n\t\t\t\tif (mutation.attributeName == 'disabled') {\n\t\t\t\t\tif (mutation.target.disabled) {\n\t\t\t\t\t\tthis.setAttribute('disabled', '');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.removeAttribute('disabled');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tconnectedCallback() {\n\t\tconst checkboxSlot = this.shadowRoot.querySelector('slot[name=\"checkbox\"]');\n\t\tcheckboxSlot.addEventListener('slotchange', () => {\n\t\t\tthis.observer = this.observer || new MutationObserver(this.mutationCallback.bind(this));\n\t\t\tlet checkbox = checkboxSlot.assignedElements()[0];\n\t\t\tcheckbox.addEventListener('change', () => this.handleChange(checkbox));\n\t\t\tthis.registerElementForValidation(checkbox);\n\t\t\tif (checkbox.hasAttribute('disabled')) this.setAttribute('disabled', '');\n\t\t\tthis.observer.disconnect();\n\t\t\tthis.observer.observe(checkbox, { attributes: true, childList: false, subtree: false });\n\t\t\tthis.handleChange(checkbox);\n\t\t});\n\t}\n\n\thandleChange(checkbox) {\n\t\tif (checkbox.checked) {\n\t\t\tcheckbox.setAttribute('checked', '');\n\t\t\tthis.setAttribute('checked', '');\n\t\t} else {\n\t\t\tcheckbox.removeAttribute('checked');\n\t\t\tthis.removeAttribute('checked');\n\t\t}\n\t}\n\n\tdisconnectedCallback() {\n\t\tif (this.observer) {\n\t\t\tthis.observer.disconnect();\n\t\t\tthis.observer = null;\n\t\t}\n\t}\n}\nwindow.customElements.define('zoo-checkbox', Checkbox);"],"names":[],"mappings":"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"}