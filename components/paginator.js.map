{"version":3,"file":"paginator.js","sources":["../../src/zoo-modules/misc-modules/paginator-module/paginator.js"],"sourcesContent":["/**\n * @injectHTML\n */\nexport class Paginator extends HTMLElement {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.prev = this.shadowRoot.querySelector('.prev');\n\t\tthis.next = this.shadowRoot.querySelector('.next');\n\t\tthis.dots = this.shadowRoot.querySelector('#dots').content;\n\t\tthis.pages = this.shadowRoot.querySelector('#pages').content;\n\t}\n\n\tconnectedCallback() {\n\t\tthis.prev.addEventListener('click', () => this.goToPage(+this.getAttribute('currentpage')-1));\n\t\tthis.next.addEventListener('click', () => this.goToPage(+this.getAttribute('currentpage')+1));\n\t\tthis.shadowRoot.querySelector('nav').addEventListener('click', e => {\n\t\t\tconst target = e.target.getAttribute('page');\n\t\t\tif (target) {\n\t\t\t\tthis.goToPage(target);\n\t\t\t}\n\t\t});\n\t}\n\tgoToPage(pageNumber) {\n\t\tthis.setAttribute('currentpage', pageNumber);\n\t\tthis.dispatchEvent(new CustomEvent('pageChange', {\n\t\t\tdetail: {pageNumber: pageNumber}, bubbles: true, composed: true\n\t\t}));\n\t}\n\n\tstatic get observedAttributes() {\n\t\treturn ['maxpages', 'currentpage'];\n\t}\n\thandleHideShowArrows() {\n\t\tif (this.getAttribute('currentpage') == 1) {\n\t\t\tthis.prev.classList.add('hidden');\n\t\t} else {\n\t\t\tthis.prev.classList.remove('hidden');\n\t\t}\n\t\tif (+this.getAttribute('currentpage') >= +this.getAttribute('maxpages')) {\n\t\t\tthis.next.classList.add('hidden');\n\t\t} else {\n\t\t\tthis.next.classList.remove('hidden');\n\t\t}\n\t}\n\trerenderPageButtons() {\n\t\tthis.shadowRoot.querySelectorAll('*[class^=\"page-element\"]').forEach(n => n.remove());\n\t\tconst pageNum = +this.getAttribute('currentpage');\n\t\tconst maxPages = this.getAttribute('maxpages');\n\t\tfor (let page=maxPages;page>0;page--) {\n\t\t\t//first, previous, current, next or last page\n\t\t\tif (page == 1 || page == pageNum - 1 || page == pageNum || page == pageNum + 1 || page == maxPages) {\n\t\t\t\tconst pageNode = this.pages.cloneNode(true).firstElementChild;\n\t\t\t\tpageNode.setAttribute('page', page);\n\t\t\t\tif (pageNum == page) {\n\t\t\t\t\tpageNode.classList.add('active');\n\t\t\t\t}\n\t\t\t\tpageNode.innerHTML = page;\n\t\t\t\tthis.prev.parentNode.insertBefore(pageNode, this.prev.nextSibling);\n\t\t\t} else if (page == pageNum-2 || pageNum+2 == page) {\n\t\t\t\tthis.prev.parentNode.insertBefore(this.dots.cloneNode(true), this.prev.nextSibling);\n\t\t\t}\n\t\t}\n\t}\n\tattributeChangedCallback(attrName) {\n\t\tif (attrName == 'currentpage' || attrName == 'maxpages') {\n\t\t\tthis.handleHideShowArrows();\n\t\t\tthis.rerenderPageButtons();\n\t\t}\n\t}\n}\nwindow.customElements.define('zoo-paginator', Paginator);"],"names":[],"mappings":"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"}