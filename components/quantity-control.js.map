{"version":3,"file":"quantity-control.js","sources":["../../src/zoo-modules/form-modules/common/FormElement.js","../../src/zoo-modules/form-modules/quantity-control-module/quantity-control.js"],"sourcesContent":["export default class FormElement extends HTMLElement {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tregisterElementForValidation(element) {\n\t\telement.addEventListener('invalid', () => {\n\t\t\tthis.setAttribute('invalid', '');\n\t\t\tthis.setAttribute('aria-invalid', '');\n\t\t});\n\t\telement.addEventListener('change', () => {\n\t\t\tif (element.checkValidity()) {\n\t\t\t\tthis.removeAttribute('invalid');\n\t\t\t} else {\n\t\t\t\tthis.setAttribute('invalid', '');\n\t\t\t\tthis.setAttribute('aria-invalid', '');\n\t\t\t}\n\t\t});\n\t}\n}","import FormElement from '../common/FormElement.js';\n\n/**\n * @injectHTML\n */\nexport class QuantityControl extends FormElement {\n\tconstructor() {\n\t\tsuper();\n\t}\n\n\tsetInputWidth() {\n\t\tconst length = this.input.value ? this.input.value.length || 1 : 1;\n\t\tthis.style.setProperty('--input-length', length + 1 + 'ch');\n\t}\n\n\thandleClick(increment) {\n\t\tconst step = this.input.step || 1;\n\t\tthis.input.value = this.input.value || 0;\n\t\tthis.input.value -= increment ? -step : step;\n\t\tthis.input.dispatchEvent(new Event('change'));\n\t\tthis.setInputWidth();\n\t}\n\n\tconnectedCallback() {\n\t\tconst inputSlot = this.shadowRoot.querySelector('slot[name=\"input\"]');\n\t\tinputSlot.addEventListener('slotchange', () => {\n\t\t\tthis.input = inputSlot.assignedElements()[0];\n\t\t\tthis.registerElementForValidation(this.input);\n\t\t\tthis.setInputWidth();\n\t\t});\n\n\t\tconst increaseSlot = this.shadowRoot.querySelector('slot[name=\"increase\"]');\n\t\tincreaseSlot.addEventListener('slotchange', () => {\n\t\t\tconst btn = increaseSlot.assignedElements()[0];\n\t\t\tbtn.addEventListener('click', () => this.handleClick(true));\n\t\t});\n\t\t\n\t\tconst decreaseSlot = this.shadowRoot.querySelector('slot[name=\"decrease\"]');\n\t\tdecreaseSlot.addEventListener('slotchange', () => {\n\t\t\tconst btn = decreaseSlot.assignedElements()[0];\n\t\t\tbtn.addEventListener('click', () => this.handleClick(false));\n\t\t});\n\t}\n}\n\nwindow.customElements.define('zoo-quantity-control', QuantityControl);"],"names":[],"mappings":"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"}